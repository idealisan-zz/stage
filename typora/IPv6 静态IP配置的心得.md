# IPv6 静态IP配置的心得

一般情况下，我们只关注两种IPv6 地址：内网IP和全球IP。此次我配置的是一个全球IP，希望能够通过域名解析到IPv6访问我的电脑。

如果使用的是Windows PC，那么就不用自己配置固定的IPv6 地址，因为Windows会自动使用一个固定的IPv6 地址，同时还是用其他的临时IPv6 地址，我们只需要通过ipconfig查看固定的IPv6 地址并将其作为AAAA记录的主机地址填进去就好了。

然而我要使用的是linux主机，并没有自动使用某个固定的IPv6 地址，于是我要自己添加一个IPv6 地址作为AAAA记录的主机地址。

全球IP意味着没有所谓的跨网络路由，世界上所有的设备都在一个大网络里，每个节点都可以是路由器，路由器也不必每个端口都有一个不同网段的IP，因为根本就没有“不同”网段。于是路由器起到路由功能的其实只用一个WAN口的IPv6 地址，所以在路由器里看到的路由器的那一个IPv6 就是我们主机的网关地址，而不是LAN口的IPv6 局域网地址。

对IPv4，路由器因为要起到NAT作用，连接两个不同的网段，LAN口是一个内网IP，WAN口是一个相对的外网IP，这个相对的外网IP很阴可能并不是互联网的一个全球IP，这是和IPv6 显著不同的地方。

所以，配置IPv6 地址需要有：

1.  网络提供商分配的地址前缀，常常是32位、48位或者64位，比如我家的网络是64位前缀。
2.  自己随意决定的剩余位。
3.  网关IPv6 地址，也就是路由器IPv6 地址。

根据1、2可以得到要使用的IPv6 地址，并确定前缀长度，接着把IPv6 地址、前缀长度、网关地址填入主机配置里即可。