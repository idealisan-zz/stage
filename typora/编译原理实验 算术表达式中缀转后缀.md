24． 题目： 算术表达式从中缀式翻译成后缀式的程序实现
设计内容及要求：设计一个语法制导翻译器，将算术表达式从中缀式翻译成后缀式。
要求：先确定一个定义算术表达式的文法，为其设计一个语法分析程序，为每条产生式配
备一个语义子程序，按照一遍扫描的语法制导翻译方法，实现翻译程序。对用户输入的任
意一个正确的算术表达式，程序将其转换成后缀式输出。

注意：要用文法定义表达式

为了简化，采用四则运算、括号、无符号数和一位整数
四则运算文法
E→E+E|E-E|EE|E/E|(E)|i
消除左递归：
E->(E)T|iT
T->+ET|-ET|ET|/ET|epsilon

## First集和Follow集

first(E)={ ( i }
first(T)={+-*/ε}
follow(E)={)} v follow(T)={#}={ ) # }

## 分析表

|      | +      | -      | *      | /      | i     | (       | )    | $          |
| ---- | ------ | ------ | ------ | ------ | ----- | ------- | ---- | ---------- |
| E    |        |        |        |        | E->iT | E->(E)T |      |            |
| T    | T->+ET | T->-ET | T->*ET | T->/ET |       |         |      | T->epsilon |

## 测试串

(i+i)*i-i/i

i*i+i/i

## 文法定义的缺陷

该文法定义不区分四则运算的运算符优先级，所以根据该文法构造的分析器也无法构造有运算符优先级的文法树。需要修正该文法才能解决运算符优先级关系的缺失。

## 工具

JSON在线格式化  https://c.runoob.com/front-end/53

## 更严格的文法

```
G[S]:
//一个算术表达式可以是一个高等级运算的结果或者低等级运算的结果
S->H|L
//高等级运算
H->APA
A->i|(L)|H|(H)
P->*|/
//低等级运算
L->BOB
B->i|H|(L)
O->+|-
```

该文法包含左递归，包含左递归的是

```
H->APA
A->i|(L)|H|(H)
```

消除左递归：

```

```

